LABEL,OPCODE,REG_LABEL,OFFSET_ADDR,COMMENT
INIT,NOP,,,
WRDIRA0,IOW,0X09,0x05,ISSUE START CMD  REG9 = 0x01
,LRI,0X00,0X48,"LOAD SLAVE ADDR<<1, WRITE"
,IOW,0X00,0x04,WRITE SLAVE ADDRESS
LP0001,IOR,0X07,0x05,READ STATUS INTO REG7
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0001,,LOOP UNTIL NOT BUSY
,IOW,0X08,0x05,ISSUE IDLE CMD REG8=0
,LRI,0X01,0X00,IODIRA REGISTER_OFFSET REG8=0
,IOW,0X01,0x04,WRITE REGISTER OFFSET
LP0002,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0002,,LOOP UNTIL NOT BUSY
,IOW,0X0F,0x04,ISSUE IODIRA_ALL_INS
LP0003,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0003,,LOOP UNTIL NOT BUSY
WRDIRB0,IOW,0X09,0x05,ISSUE START CMD  REG9 = 0x01
,LRI,0X00,0X48,"LOAD SLAVE ADDR<<1, WRITE"
,IOW,0X00,0x04,WRITE SLAVE ADDRESS
LP0004,IOR,0X07,0x05,READ STATUS INTO REG7
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0004,,LOOP UNTIL NOT BUSY
,IOW,0X08,0x05,ISSUE IDLE CMD REG8=0
,LRI,0X01,0X01,IODIRB REGISTER_OFFSET REG8=0
,IOW,0X01,0x04,WRITE REGISTER OFFSET
LP0005,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0005,,LOOP UNTIL NOT BUSY
,IOW,0X08,0x04,ISSUE IODIRA_ALL_OUTS
LP0006,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0006,,LOOP UNTIL NOT BUSY
WRDIRD0,IOW,0X09,0x05,ISSUE START CMD  REG9 = 0x01
,LRI,0X00,0X48,"LOAD SLAVE ADDR<<1, WRITE"
,IOW,0X00,0x04,WRITE SLAVE ADDRESS
LP0007,IOR,0X07,0x05,READ STATUS INTO REG7
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0007,,LOOP UNTIL NOT BUSY
,IOW,0X08,0x05,ISSUE IDLE CMD REG8=0
,LRI,0X01,0X15,OLATB REGISTER_OFFSET REG8=0
,IOW,0X01,0x04,WRITE REGISTER OFFSET
LP0008,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0008,,LOOP UNTIL NOT BUSY
,LRI,0X02,0x55,WRITE VALUE = 0X55
,IOW,0X02,0X04,WRITE VALUE TO LEDS
LP0009,IOR,0X07,0x05,READ STATUS
,ARI,0X07,0X01,BUSY BIT
,BNZ,LP0009,,LOOP UNTIL NOT BUSY
SELF,JMP,SELF,,
